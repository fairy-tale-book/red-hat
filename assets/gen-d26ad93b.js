var c=(a,t,s)=>new Promise((l,d)=>{var n=i=>{try{o(s.next(i))}catch(e){d(e)}},_=i=>{try{o(s.throw(i))}catch(e){d(e)}},o=i=>i.done?l(i.value):Promise.resolve(i.value).then(n,_);o((s=s.apply(a,t)).next())});import{_ as m}from"./back-888361ac.js";import{n as v}from"./index-add21d19.js";const u=""+new URL("../images/result.png",import.meta.url).href,r=""+new URL("../images/setting.png",import.meta.url).href;const h={data(){return{loading:!1,story:"",mp3url:""}},mounted(){this.getStory()},methods:{getStory(){this.loading=!0;const a="https://api.thelittleredridinghood.com/story/",t={theme:this.$route.params.theme,key_words:this.$route.query.keywords};this.postData(a,t).then(s=>{this.loading=!1,this.story=s.story,this.getMp3(s.story)}).catch(s=>{this.loading=!1,console.log(s,11)})},getMp3(a){const t={story:a};this.postData("https://api.thelittleredridinghood.com/sound-story",t).then(s=>{console.log(s),this.mp3url=s.sound_story_url})},postData(){return c(this,arguments,function*(a="",t={}){return(yield fetch(a,{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json",Authorization:"63cd79b5c3155c29a8fb3398e2fda3237523cf0c"},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify(t)})).json()})}}};var p=function(){var t=this,s=t._self._c;return s("main",{key:"33"},[t._m(0),t.loading?s("div",{staticClass:"loading",attrs:{id:"loading"}},[s("h1",{staticClass:"loading-text"},[t._v("故事生成中...")]),t._m(1)]):s("div",{staticClass:"my-story"},[t._m(2)]),t._m(3),s("img",{staticClass:"result",attrs:{src:u,alt:""}}),t.mp3url?s("audio",{attrs:{controls:"",autoplay:"",src:t.mp3url}},[t._v(" Your browser does not support the audio element. ")]):t._e(),s("audio",{staticStyle:{display:"none"},attrs:{id:"audio","data-src":`
  https://zd25bag5w2w3e2te.aistudio-hub.baidu.com/tmp/1702715064_e651ce99-36fb-4fe0-b206-d3fbe8ac5629.wav`,controls:""}})])},f=[function(){var a=this,t=a._self._c;return t("header",{staticClass:"back-btn"},[t("a",{attrs:{href:"javascript:history.back(-1)"}},[t("img",{attrs:{src:m,alt:""}})])])},function(){var a=this,t=a._self._c;return t("div",{staticClass:"loader"},[t("div",{staticClass:"dot"}),t("div",{staticClass:"dot"}),t("div",{staticClass:"dot"}),t("div",{staticClass:"dot"}),t("div",{staticClass:"dot"}),t("div",{staticClass:"dot"}),t("div",{staticClass:"dot"}),t("div",{staticClass:"dot"}),t("div",{staticClass:"dot"}),t("div",{staticClass:"dot"}),t("div",{staticClass:"dot"}),t("div",{staticClass:"dot"}),t("div",{staticClass:"dot"}),t("div",{staticClass:"dot"}),t("div",{staticClass:"dot"}),t("div",{staticClass:"dot"}),t("div",{staticClass:"dot"}),t("div",{staticClass:"dot"}),t("div",{staticClass:"dot"}),t("div",{staticClass:"dot"}),t("div",{staticClass:"dot"}),t("div",{staticClass:"dot"}),t("div",{staticClass:"dot"}),t("div",{staticClass:"dot"}),t("div",{staticClass:"dot"})])},function(){var a=this,t=a._self._c;return t("section",[t("p",[a._v(" 奥特曼：小朋友们，今天我们要讲一个关于滑滑梯和下雨的故事。 有一天，小刚和小朋友们在公园里玩滑滑梯。突然，天空变得阴沉，开始下雨了。小刚和小朋友们都很兴奋，他们觉得雨中的滑滑梯一定很好玩。 但是，奥特曼告诉他们，下雨天滑滑梯很危险。因为雨水会让滑滑梯变得湿滑，容易摔倒。而且，如果雨下得很大，还可能造成地面湿滑，容易摔倒受伤。 所以，小朋友们在下雨天玩耍时，一定要注意安全。不要在滑滑梯、游乐场等湿滑的地方玩耍，以免摔倒受伤。 ")]),t("div",{staticClass:"item-1"},[t("img",{attrs:{src:r,alt:""}})]),t("div",{staticClass:"item-1"},[t("img",{attrs:{src:r,alt:""}})])])},function(){var a=this,t=a._self._c;return t("div",{staticClass:"fix-setting-btn"},[t("img",{attrs:{src:r,alt:""}})])}],C=v(h,p,f,!1,null,"a406741f",null,null);const w=C.exports;export{w as default};
