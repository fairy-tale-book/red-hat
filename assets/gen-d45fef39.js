var d=(a,t,s)=>new Promise((c,r)=>{var l=i=>{try{e(s.next(i))}catch(o){r(o)}},n=i=>{try{e(s.throw(i))}catch(o){r(o)}},e=i=>i.done?c(i.value):Promise.resolve(i.value).then(l,n);e((s=s.apply(a,t)).next())});import{_}from"./back-888361ac.js";import{n as u}from"./index-370cc7a6.js";const v=""+new URL("../images/result.png",import.meta.url).href,m=""+new URL("../images/setting.png",import.meta.url).href;const h={data(){return{loading:!1,mp3Loading:!1,story:"",mp3url:""}},mounted(){this.getStory()},methods:{getStory(){this.loading=!0;const a="https://api.thelittleredridinghood.com/story/",t={theme:this.$route.params.theme,key_words:this.$route.query.keywords,story_teller:this.$route.query.storyTeller};this.postData(a,t).then(s=>{this.loading=!1,this.story=s.story,this.getMp3(s.story)}).catch(s=>{this.loading=!1,console.log(s,11)})},getMp3(a){const t={story:a};this.postData("https://api.thelittleredridinghood.com/sound-story",t).then(s=>{console.log(s),this.mp3url=s.sound_story_url})},postData(){return d(this,arguments,function*(a="",t={}){return(yield fetch(a,{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json",Authorization:"63cd79b5c3155c29a8fb3398e2fda3237523cf0c"},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify(t)})).json()})}}};var p=function(){var t=this,s=t._self._c;return s("main",{key:"33"},[t._m(0),t.loading?s("div",{staticClass:"loading",attrs:{id:"loading"}},[s("h1",{staticClass:"loading-text"},[t._v("故事生成中...")]),t._m(1)]):s("div",{staticClass:"my-story"},[s("section",[s("p",[t._v(" "+t._s(t.story)+" ")])])]),t._m(2),s("img",{staticClass:"result",attrs:{src:v,alt:""}}),t.mp3url?s("audio",{attrs:{controls:"",autoplay:"",src:t.mp3url}},[t._v(" Your browser does not support the audio element. ")]):t._e(),s("audio",{staticStyle:{display:"none"},attrs:{id:"audio","data-src":`
  https://zd25bag5w2w3e2te.aistudio-hub.baidu.com/tmp/1702715064_e651ce99-36fb-4fe0-b206-d3fbe8ac5629.wav`,controls:""}})])},f=[function(){var a=this,t=a._self._c;return t("header",{staticClass:"back-btn"},[t("a",{attrs:{href:"javascript:history.back(-1)"}},[t("img",{attrs:{src:_,alt:""}})])])},function(){var a=this,t=a._self._c;return t("div",{staticClass:"loader"},[t("div",{staticClass:"dot"}),t("div",{staticClass:"dot"}),t("div",{staticClass:"dot"}),t("div",{staticClass:"dot"}),t("div",{staticClass:"dot"}),t("div",{staticClass:"dot"}),t("div",{staticClass:"dot"}),t("div",{staticClass:"dot"}),t("div",{staticClass:"dot"}),t("div",{staticClass:"dot"}),t("div",{staticClass:"dot"}),t("div",{staticClass:"dot"}),t("div",{staticClass:"dot"}),t("div",{staticClass:"dot"}),t("div",{staticClass:"dot"}),t("div",{staticClass:"dot"}),t("div",{staticClass:"dot"}),t("div",{staticClass:"dot"}),t("div",{staticClass:"dot"}),t("div",{staticClass:"dot"}),t("div",{staticClass:"dot"}),t("div",{staticClass:"dot"}),t("div",{staticClass:"dot"}),t("div",{staticClass:"dot"}),t("div",{staticClass:"dot"})])},function(){var a=this,t=a._self._c;return t("div",{staticClass:"fix-setting-btn"},[t("img",{attrs:{src:m,alt:""}})])}],C=u(h,p,f,!1,null,"0f07e35a",null,null);const w=C.exports;export{w as default};
